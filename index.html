<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance Calculator[S0-ALIF]</title>
  <style>
    :root {
      --bg: #f4f7fb;
      --text: #333;
      --card: #ffffff;
      --highlight: #1976d2;
      --button-hover: #1565c0;
      --result-bg: #e3f2fd;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #121212;
        --text: #e0e0e0;
        --card: #1e1e1e;
        --highlight: #90caf9;
        --button-hover: #64b5f6;
        --result-bg: rgba(144, 202, 249, 0.15);
      }
    }

    body {
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      transition: background 0.3s, color 0.3s;
    }

    .container {
      background: var(--card);
      padding: 25px 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      width: 380px;
      transition: background 0.3s, box-shadow 0.3s;
    }

    h2 {
      text-align: center;
      color: var(--highlight);
      margin-bottom: 15px;
      transition: color 0.3s;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }

    input[type="time"], select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: var(--card);
      color: var(--text);
      transition: background 0.3s, color 0.3s;
    }

    button {
      margin-top: 20px;
      width: 100%;
      padding: 10px;
      background: var(--highlight);
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s;
    }

    button:hover {
      background: var(--button-hover);
    }

    .result {
      margin-top: 20px;
      padding: 10px;
      background: var(--result-bg);
      border-radius: 6px;
      text-align: center;
      line-height: 1.6;
      font-weight: bold;
      transition: background 0.3s;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>S0 Attendance (Non-Design) Calculator</h2>

    <label for="clockIn">Clock In Time:</label>
    <input type="time" id="clockIn" value="07:00">

    <label for="leaveType">Leave Type:</label>
    <select id="leaveType">
      <option value="full">Full Day</option>
      <option value="1st">1st Half Leave</option>
      <option value="2nd">2nd Half Leave</option>
    </select>

    <label for="otHours">OT Hours:</label>
    <select id="otHours">
      <option value="0">No OT</option>
      <option value="1">1 hour</option>
      <option value="2">2 hours</option>
      <option value="3">3 hours</option>
      <option value="4">4 hours</option>
      <option value="5">5 hours</option>
      <option value="6">6 hours</option>
      <option value="7">7 hours</option>
      <option value="8">8 hours</option>
      <option value="9">9 hours</option>
      <option value="10">10 hours</option>
    </select>

    <button onclick="calculateTimes()">Calculate</button>

    <div class="result" id="result">Result will appear here</div>
  </div>

  <script>
    function calculateTimes() {
      const clockIn = document.getElementById("clockIn").value;
      const leaveType = document.getElementById("leaveType").value;
      const otHours = parseInt(document.getElementById("otHours").value);
      const resultDiv = document.getElementById("result");

      if (!clockIn) {
        resultDiv.textContent = "Please enter your clock-in time.";
        return;
      }

      const baseStart = { h: 7, m: 0 };
      const baseHalf = { h: 11, m: 45 };
      const baseOut = { h: 16, m: 30 };

      const [h, m] = clockIn.split(":").map(Number);
      const diffMinutes = (h - baseStart.h) * 60 + (m - baseStart.m);

      function addMinutes(time, mins) {
        let newH = time.h;
        let newM = time.m + mins;
        while (newM >= 60) { newH++; newM -= 60; }
        while (newM < 0) { newH--; newM += 60; }
        return { h: newH, m: newM };
      }

      let halfDay = addMinutes(baseHalf, diffMinutes);
      let fullOut = addMinutes(baseOut, diffMinutes);

      const otMinutes = otHours > 0 ? (otHours * 60) + 10 : 0;
      let resultHTML = "";
      let totalWorkMinutes = 0;

      if (leaveType === "full") {
        fullOut = addMinutes(fullOut, otMinutes);
        totalWorkMinutes = (9.5 * 60) + otMinutes;
        resultHTML = `
          <div>Clock-In: <strong>${formatTime(h, m)}</strong></div>
          <div>Half Day: <strong>${formatTime(halfDay.h, halfDay.m)}</strong></div>
          <div>Clock-Out: <strong>${formatTime(fullOut.h, fullOut.m)}</strong></div>
        `;
      } else if (leaveType === "1st") {
        let secondHalfIn = halfDay;
        let secondHalfOut = addMinutes(secondHalfIn, 4 * 60 + 45 + otMinutes);
        totalWorkMinutes = (4.75 * 60) + otMinutes;
        resultHTML = `
          <div><strong>1st Half Leave</strong></div>
          <div>Clock-In (Start Work): <strong>${formatTime(secondHalfIn.h, secondHalfIn.m)}</strong></div>
          <div>Clock-Out: <strong>${formatTime(secondHalfOut.h, secondHalfOut.m)}</strong></div>
        `;
      } else if (leaveType === "2nd") {
        let firstHalfOut = addMinutes(halfDay, otMinutes);
        totalWorkMinutes = (4.75 * 60) + otMinutes;
        resultHTML = `
          <div><strong>2nd Half Leave</strong></div>
          <div>Clock-In: <strong>${formatTime(h, m)}</strong></div>
          <div>Clock-Out (Half Day): <strong>${formatTime(firstHalfOut.h, firstHalfOut.m)}</strong></div>
        `;
      }

      const totalH = Math.floor(totalWorkMinutes / 60);
      const totalM = totalWorkMinutes % 60;
      resultHTML += `<div>Total Working Time: <strong>${totalH}h ${totalM}m</strong></div>`;

      resultDiv.innerHTML = resultHTML;
    }

    function formatTime(h, m) {
      const ampm = h >= 12 ? "PM" : "AM";
      let hour12 = h % 12 || 12;
      return `${hour12}:${m.toString().padStart(2, "0")} ${ampm}`;
    }
  </script>
</body>
</html>
